
# Hungarian RPG Adventure

**Learn Hungarian Through an Immersive, AI-Powered Adventure!**

Hungarian RPG Adventure is an innovative language-learning tool disguised as a text-based role-playing game. It leverages the power of Google's Gemini and Imagen models to create dynamic, interactive stories that help users learn Hungarian in a fun, contextual, and immersive way.

The core learning mechanic focuses on one of the most challenging aspects of the Hungarian language: its agglutinative nature, where words are heavily modified with suffixes. This app provides an interactive tool to break down complex words on the fly, making grammar intuitive and memorable.

---

## ‚ú® Key Features

*   **Dynamic Storytelling**: Every adventure is unique. Powered by **Gemini 2.5 Flash**, the game generates a coherent, multi-turn story based on your choices and a chosen scenario.
*   **AI-Generated Imagery**: Each scene is brought to life with a unique, photorealistic image generated by **Imagen 3**, based on the scene's description.
*   **Interactive Grammar Tool**: Hover over any Hungarian word in the dialogue or options to see a detailed breakdown of its root and suffixes, complete with explanations of their grammatical function.
*   **Multiple Difficulty Levels**:
    *   **Novice**: Full English narration and translations for all Hungarian text.
    *   **Intermediate**: English narration, Hungarian dialogue, and a glossary for key terms.
    *   **Superior**: English narration, but all in-game dialogue is pure Hungarian.
    *   **Advanced**: Full immersion with all text in Hungarian.
    *   **Er≈ës Pista**: The ultimate challenge! Full Hungarian immersion with free-text input instead of multiple-choice options.
*   **Customizable Scenarios**: Start with a pre-defined scenario (like ordering coffee) or create your own by describing a mission, such as "try to buy a ticket for the Parliament tour" or "ask for directions to the Danube."
*   **End-of-Game Recap**: At the end of your adventure, get a full report of all the complex words you encountered.
*   **Export for Flashcards**: Export your learned vocabulary list as a CSV file, perfectly formatted for importing into spaced-repetition systems like Anki.

---

## üõ†Ô∏è Built With

*   **Frontend**: [React](https://reactjs.org/), [TypeScript](https://www.typescriptlang.org/), [Tailwind CSS](https://tailwindcss.com/)
*   **AI Models**:
    *   **Text & Logic**: [Google Gemini 2.5 Flash](https://deepmind.google/technologies/gemini/)
    *   **Image Generation**: [Google Imagen 3](https://deepmind.google/technologies/imagen-2/)
*   **Core API**: [@google/genai](https://www.npmjs.com/package/@google/genai) SDK

---

## üöÄ How It Works

The application is built around a central game loop orchestrated by a React hook (`useGameLogic`) that manages the application's state.

1.  **Initialization**: The user selects a difficulty level and can optionally provide a custom mission prompt on the start screen.
2.  **Scene Generation**:
    *   A request is sent to the Gemini API via `services/geminiService.ts`.
    *   A detailed system instruction primes the model to act as a game master, specifying the difficulty, story constraints, and desired JSON output format (`responseSchema`).
    *   The game history and the player's last action are included in the prompt to ensure a coherent story progression.
3.  **Image Generation**: The `imagePrompt` field returned in the scene's JSON is sent to the Imagen API to generate a unique visual for the scene.
4.  **UI Rendering**: The React frontend renders the scene, including the new image, narration, dialogue, and player options.
5.  **Interactive Word Analysis**:
    *   When a user hovers over a Hungarian word in the UI (`DialogueText.tsx`), a debounced event triggers a call to the Gemini API.
    *   A separate, specialized prompt asks the model to act as a linguist and break down the specific word into its root and suffixes.
    *   The result is displayed in a tooltip and cached to avoid redundant API calls.
6.  **Game Loop**: The user selects an option (or provides text input), which is sent back to the Gemini API to generate the next scene, continuing the loop until the story concludes (typically after 5-7 turns).
7.  **Recap**: Once the game state is `Finished`, a modal displays the `encounteredWords` list, which has been compiled throughout the game, and offers an export option.

---

## üìã Getting Started

This project is designed to run in an environment where the Google Gemini API key is securely managed.

### Prerequisites

You must have a Google Gemini API key. This key should be available as an environment variable:
```
API_KEY="YOUR_API_KEY_HERE"
```
The application source code reads this key directly from `process.env.API_KEY`.

### Installation & Running

While this is a web-based app, if you were to run it locally, you would follow standard web development procedures:

```bash
# 1. Clone the repository
git clone https://github.com/your-repo/hungarian-rpg-adventure.git

# 2. Install dependencies
npm install

# 3. Start the development server
npm run dev
```

The application will then be available in your browser, ready to start an adventure.
